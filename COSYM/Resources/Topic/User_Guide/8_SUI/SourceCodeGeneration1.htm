<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" class="_Skins_HTML5_Side" lang="en" xml:lang="en" data-mc-search-type="Stem" data-mc-help-system-file-name="COSYM_Online_Help.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="About COSYM|Model Management|Model Types|Simulink|Source Code Generation">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../../Skins/Favicons/browserconfig.xml" />
        <link rel="shortcut icon" href="../../../../Skins/Favicons/favicon_3.ico" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon_2.ico" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon_1.ico" />
        <link rel="icon" sizes="16x16" href="../../../../Skins/Favicons/favicon.ico" />
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" /><title>Source Code Generation for COSYM_GRT Target</title>
        <link href="../../../TableStyles/note.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="../../../Stylesheets/ETAS_flare_EN.css" rel="stylesheet" type="text/css" />
        <meta name="Product" content="COSYM" />
        <meta name="Version" content="V3.4.1" />
        <meta name="Revision" content="R01 EN - 05.2024" />
        <meta name="Copyright Year" content="2024" />
        <meta name="Doc Type" content="User Guide" />
        <script src="../../../Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-left" role="navigation" id="offCanvas" data-off-canvas="" data-position="left" data-mc-ignore="true">
                    <ul class="off-canvas-accordion vertical menu off-canvas-list" data-accordion-menu="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1279px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../../Help.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div id="mc-main-content" role="main" data-mc-content-body="True">
                                    <h4>Source Code Generation for COSYM_GRT Target</h4>
                                    <p>Source code for the model can be generated for the simulink model using COSYM Real Time (COSYM_GRT) Target. </p>
                                    <h5>Pre-requisites</h5>
                                    <ul>
                                        <li class="list">Installation of MATLAB<sup>® </sup>/Simulink<sup>®</sup> (versions supported - R2018b up to R2022a).</li>
                                    </ul>
                                    <h4><a name="COSYM_GRT"></a>Configuring the Settings for Source Code Generation of COSYM_GRT&#160;Target</h4>
                                    <p class="how_to_title">To configure the settings in the model configuration to generate source code</p>
                                    <ol>
                                        <li class="howto_num" value="1">Open the model in MATLAB<sup>® </sup>/Simulink<sup>®</sup>. Navigate to the directory in the MATLAB<sup>® </sup>/Simulink<sup>® </sup>which points to the model.</li>
                                        <li class="howto_num" value="2">In order to export input and output ports of the model, use the <span style="font-family: 'Courier New';">In</span> and <span style="font-family: 'Courier New';">Out</span> blocks respectively from the Simulink<sup>®</sup> library. <span style="font-family: 'Courier New';">In</span> and <span style="font-family: 'Courier New';">Out</span> blocks added at the top level only will be visible in COSYM.</li>
                                        <li class="howto_num" value="3">MATLAB initializes the parameter values from <span class="code">*.mat</span> file or <span class="code">*.m</span> file that you specify in <span class="code">PreLoadFcn</span> while loading the model. The source code will be generated with these parameter values specified in the <span class="code">*.mat</span> file or <span class="code">*.m</span> file.</li>
                                        <li class="howto_num" value="4">Click <span class="gui">Model Configuration Parameters</span> from the toolbar as shown in the <a href="#Model_in_Simulink" class="Number_Only MCXref xref xrefNumber_Only">Fig. 99</a>.<br />The "Configuration Parameter" dialog box is displayed.</li>
                                    </ol>
                                    <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../Images/Simulink_codegen2.png"><img class="MCPopupThumbnail img imgwide" data-mc-width="1381" data-mc-height="815" src="../../../Images/Simulink_codegen2_thumb_0_150.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 150px;" tabindex="" /></a>
                                    </p>
                                    <p class="figure_title" data-mc-autonum="Fig. 99: "><span class="autonumber"><span class="bold">Fig. 99: </span></span><a name="Model_in_Simulink"></a>Model in Simulink<sup>®</sup></p>
                                    <ol data-mc-continue="true">
                                        <li class="howto_num" value="5"><span style="font-size: 10pt;">Select the "Solver" tab and configure the "Type" as "Fixed-step" in the "Solver options"</span> as shown in <a href="#Solver_preferences" class="Number_Only MCXref xref xrefNumber_Only">Fig. 100</a>.</li>
                                        <li class="howto_num" value="6">Select any of the fixed-step solvers in the "Solver" drop-down menu as shown in <a href="#Solver_preferences" class="Number_Only MCXref xref xrefNumber_Only">Fig. 100</a>.</li>
                                        <li class="howto_num" value="7">You can specify the step size used by the selected fixed-step solver in the "Fixed-step size (fundamental sample time)" field. Entering auto (default) in this field causes Simulink to choose the step size. This step size, ensures that the solver will take a step at every sample time defined by the model.</li>
                                    </ol>
                                    <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../Images/Simulink_codegen3.png"><img class="MCPopupThumbnail img imgwide" data-mc-width="1061" data-mc-height="712" src="../../../Images/Simulink_codegen3_thumb_0_150.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 150px;" tabindex="" /></a>
                                    </p>
                                    <p class="figure_title" data-mc-autonum="Fig. 100: "><span class="autonumber"><span class="bold">Fig. 100: </span></span><a name="Solver_preferences"></a>Solver preferences</p>
                                    <ol data-mc-continue="true">
                                        <li class="howto_num" value="8">Go to "Code Generation" tab and select the "System target file" as <span class="code">cosym_grt.tlc</span> in the "Target selection".</li>
                                        <li class="howto_num" value="9"> The code generation process automatically chooses options to "Generate code only" and unchecks the "Generate makefile".</li>
                                        <li class="howto_num" value="10">Click <span class="gui">OK</span>.</li>
                                    </ol>
                                    <p style="font-size: 10pt;"><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../Images/Simulink_configuration_OK.png"><img class="MCPopupThumbnail img imgwide" data-mc-width="1729" data-mc-height="897" src="../../../Images/Simulink_configuration_OK_thumb_0_150.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 150px;" tabindex="" /></a>
                                    </p>
                                    <p class="figure_title" data-mc-autonum="Fig. 101: "><span class="autonumber"><span class="bold">Fig. 101: </span></span>Code generation preferences</p>
                                    <ol start="11">
                                        <li class="howto_num" value="11">Generated code will be compiled during system build in COSYM. It is expected that you include the list of required directories, source files, or library files under the "Custom code" tab which is available in the "Code generation" tab. The complete/absolute path should be specified for those additional lists. This will ensure that  generated <span class="code">*.slxip</span> is self-contained.</li>
                                    </ol>
                                    <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../Images/Simulink_configuration1.png"><img class="MCPopupThumbnail img imgthumbnail" data-mc-width="1062" data-mc-height="711" src="../../../Images/Simulink_configuration1_thumb_0_150.png" tabindex="" /></a>
                                    </p>
                                    <p class="figure_title" data-mc-autonum="Fig. 102: "><span class="autonumber"><span class="bold">Fig. 102: </span></span>Custom code configuration</p>
                                    <ul>
                                        <li class="howto_result">The code configuration is made to generate the code.</li>
                                    </ul>
                                    <table style="width: 100%;mc-table-style: url('../../../TableStyles/note.css');" class="TableStyle-note" cellspacing="0">
                                        <col class="TableStyle-note-Column-Column1" />
                                        <thead>
                                            <tr class="TableStyle-note-Head-Header1">
                                                <th class="TableStyle-note-HeadD-Column1-Header1">
                                                    <p class="note_Header" data-mc-autonum="Note"><span class="autonumber"><span>Note</span></span>&#160;</p>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="TableStyle-note-Body-Body1">
                                                <td class="TableStyle-note-BodyA-Column1-Body1">
                                                    <p class="note">The <span class="code">*.slxip</span> files used in a project with COSYM V2.2.0 or earlier versions will not work with the current version. In such a case, you need to regenerate the code in MATLAB<sup>®</sup> again and reimport in COSYM project.</p>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <h4>Simulink Model Source Code Generation</h4>
                                    <p>Source code generation  for COSYM_GRT target can be done in either of the following ways.</p>
                                    <ul>
                                        <li class="howto_num">Perform one of the following steps:<ul><li class="howto2">Click <span class="gui">Build Model</span> from the toolbar to generate the model source code.</li></ul></li>
                                    </ul>
                                    <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../Images/Simulink_codegen5_GRT.png"><img class="MCPopupThumbnail img imgwide" data-mc-width="973" data-mc-height="602" src="../../../Images/Simulink_codegen5_GRT_thumb_0_150.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 150px;" tabindex="" /></a>
                                    </p>
                                    <p class="figure_title" data-mc-autonum="Fig. 103: "><span class="autonumber"><span class="bold">Fig. 103: </span></span>Build Model button in the toolbar</p>
                                    <ul>
                                        <li class="howto_Or" value="2">&lt;Or&gt;<ul><li class="howto2" value="2">Press &lt;<span class="key">Ctrl+B</span>&gt; on your keyboard to generate the code.</li><li class="howto2_result">"COSYM GRT Build Preferences" dialog box is displayed if you have not selected the COSYM_GRT preferences <a href="COSYMadditionalFeaturesToBuild.htm#Use" class="_see_Heading MCXref xref xref_see_Heading">Use build only by default</a>. <br />This asks you to select the build preferences as either "Build only" or "Build And Import To COSYM".<br /><b>Build only</b><br />Builds the source code for a model.<br /><b>Build And Import To COSYM</b><br />Builds the source code and imports the simulink model into COSYM. When the "Build preferences" is selected as "Build And Import To COSYM", then the workflow mentioned below is followed to import a model into COSYM.</li><li class="howto2">Click <span class="gui">Build And Import To COSYM</span>.<br />A window is displayed to select the active COSYM project(s) in which the model needs to be imported into the project(s). <br />You can import a model into multiple COSYM projects by holding &lt;<span class="key">Ctrl</span>&gt; key and select the project to import it to the active COSYM projects which are listed in the dialog box.<br /></li></ul></li>
                                    </ul>
                                    <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../Images/workflow3.png"><img class="MCPopupThumbnail img imgwide" data-mc-width="1422" data-mc-height="537" src="../../../Images/workflow3_thumb_0_150.png" style="mc-thumbnail-max-height: 150px;mc-thumbnail: popup;" tabindex="" /></a>
                                    </p>
                                    <p class="figure_title" data-mc-autonum="Fig. 104: "><span class="autonumber"><span class="bold">Fig. 104: </span></span>A window displays the active COSYM&#160;Projects</p>
                                    <ol data-mc-continue="true">
                                        <li value="3" class="howto_num">Select the project(s) and click <span class="gui">Import</span>.</li>
                                        <li class="howto_result" value="4">The check mark, <span style="font-family: 'Segoe UI Symbol'">✓</span> and ✕ are displayed for the successful and unsuccessful import of a model to the respective projects respectively. <br /><ol data-mc-continue="true"><li class="howto2" value="1">If it is a new import, then it will be imported the into "Control" folder, by default.</li><li class="howto2" value="2">If the model is imported already in a project, then it is an update of a model which replaces the old model. It is necessary to close the MATLAB<sup>®</sup>/ Simulink<sup>®</sup>&#160;application after the <span class="bold">Import</span> action to update a model. </li><li class="howto2" value="3">An error message is also shown for the unsuccessful import.</li></ol></li>
                                    </ol>
                                    <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../Images/workflow3_1.png"><img class="MCPopupThumbnail img imgwide" data-mc-width="906" data-mc-height="349" src="../../../Images/workflow3_1_thumb_0_150.png" style="mc-thumbnail: popup;mc-thumbnail-max-height: 150px;" tabindex="" /></a>
                                    </p>
                                    <p class="figure_title" data-mc-autonum="Fig. 105: "><span class="autonumber"><span class="bold">Fig. 105: </span></span>Project(s) selection</p>
                                    <p class="list_des" style="text-align: left;">It refreshes the model automatically, if the project is not opened in the project dashboard. </p>
                                    <p class="list_des" style="text-align: left;">In case, the project is opened, then you need to refresh the model by clicking <span class="gui">Reload simulink models</span> on the <span class="gui">View</span> menu. Refer to <a href="ReloadSimulinkFiles.htm" class="Heading MCXref xref xrefHeading">Reloading of Simulink Models</a>  for more details.</p>
                                    <p class="see" data-mc-conditions="medien.OnlyHelpOutput">See also</p>
                                    <ul>
                                        <li class="list" data-mc-conditions="medien.OnlyHelpOutput"><a href="SIMULINK.htm" class="Heading MCXref xref xrefHeading">Simulink</a>
                                        </li>
                                        <li class="list" data-mc-conditions="medien.OnlyHelpOutput"><a href="Importer.htm" class="Heading MCXref xref xrefHeading">Importing a Model</a>
                                        </li>
                                        <li class="list" data-mc-conditions="medien.OnlyHelpOutput"><a href="PrerequisitesImportSimulinkModel.htm" class="Heading MCXref xref xrefHeading">Prerequisites to Import a Simulink Model</a>
                                        </li>
                                        <li class="list" data-mc-conditions="medien.OnlyHelpOutput"><a href="COSYM_GRTandLCRT.htm" class="Heading MCXref xref xrefHeading">COSYM_GRT  Target  in MATLAB®/Simulink®</a>
                                        </li>
                                        <li class="list" data-mc-conditions="medien.OnlyHelpOutput"><a href="SourceCodeGeneration.htm" class="Heading MCXref xref xrefHeading">Source Code Generation </a>
                                        </li>
                                        <li class="list" data-mc-conditions="medien.OnlyHelpOutput"><a href="SimscapeToolbox.htm" class="Heading MCXref xref xrefHeading">Simscape Toolbox</a>
                                        </li>
                                        <li class="list" data-mc-conditions="medien.OnlyHelpOutput"><a href="COSYMadditionalFeaturesToBuild.htm" class="Heading MCXref xref xrefHeading">COSYM_GRT Additional Options for Code Generation</a>
                                        </li>
                                        <li class="list" data-mc-conditions="medien.OnlyHelpOutput"><a href="../18_Res/Simulink Importer.htm" class="Heading MCXref xref xrefHeading">MATLAB®/Simulink® Limitations</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>